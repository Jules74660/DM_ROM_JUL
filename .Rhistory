GRTS_df
GRTS_df <- GRTS_df %>% mutate(
Identifiant = paste0("site_", row_number())) %>%
dplyr::select(Identifiant, lon_WGS84, lat_WGS84, libelle_fr) %>%
rename(Longitude = lon_WGS84,Latitude = lat_WGS84,`Type de sol (code CLC)` = libelle_fr, siteID = Identifiant)
GRTS_df <- GRTS_df %>% mutate(
Identifiant = paste0("site_", row_number())) %>%
dplyr::select(Identifiant, lon_WGS84, lat_WGS84, libelle_fr) %>%
rename(Longitude = lon_WGS84,Latitude = lat_WGS84,`Type de sol (code CLC)` = libelle_fr, siteID = Identifiant)
GRTS_df <- read_csv("tirage_GRTS.csv") %>%
dplyr::select(lon_WGS84, lat_WGS84, libelle_fr)
GRTS_df <- GRTS_df %>% mutate(
Identifiant = paste0("site_", row_number())) %>%
dplyr::select(Identifiant, lon_WGS84, lat_WGS84, libelle_fr) %>%
rename(Longitude = lon_WGS84,Latitude = lat_WGS84,`Type de sol (code CLC)` = libelle_fr, siteID = Identifiant)
GRTS_df
(
DT::datatable(
GRTS_df,
options = list(
scrollX = TRUE,
autoWidth = FALSE,
pageLength = 12,
columnDefs = list(list(width = '250px', targets = "_all"))),
width = "100%",
height = "auto",
rownames = FALSE) %>%
formatStyle(
"Type de sol (code CLC)",
backgroundColor = styleEqual(names(couleurs_CLC), couleurs_CLC),
color = "black",
fontWeight = "bold")
DT::datatable(
GRTS_df <- read_csv("tirage_GRTS.csv") %>%
dplyr::select(lon_WGS84, lat_WGS84, libelle_fr)
GRTS_df <- GRTS_df %>% mutate(
Identifiant = paste0("site_", row_number())) %>%
dplyr::select(Identifiant, lon_WGS84, lat_WGS84, libelle_fr) %>%
rename(Longitude = lon_WGS84,Latitude = lat_WGS84,`Type de sol (code CLC)` = libelle_fr, siteID = Identifiant)
DT::datatable(
GRTS_df,
options = list(
scrollX = TRUE,
autoWidth = FALSE,
pageLength = 12,
columnDefs = list(list(width = '250px', targets = "_all"))),
width = "100%",
height = "auto",
rownames = FALSE) %>%
formatStyle(
"Type de sol (code CLC)",
backgroundColor = styleEqual(names(couleurs_CLC), couleurs_CLC),
color = "black",
fontWeight = "bold")
DT::datatable(
GRTS_df,
options = list(
scrollX = TRUE,
autoWidth = FALSE,
pageLength = 13,
columnDefs = list(list(width = '250px', targets = "_all"))),
width = "100%",
height = "auto",
rownames = FALSE) %>%
formatStyle(
"Type de sol (code CLC)",
backgroundColor = styleEqual(names(couleurs_CLC), couleurs_CLC),
color = "black",
fontWeight = "bold")
DT::datatable(
GRTS_df,
options = list(
scrollX = TRUE,
autoWidth = FALSE,
pageLength = 10,
columnDefs = list(list(width = '250px', targets = "_all"))),
width = "100%",
height = "auto",
rownames = FALSE) %>%
formatStyle(
"Type de sol (code CLC)",
backgroundColor = styleEqual(names(couleurs_CLC), couleurs_CLC),
color = "black",
fontWeight = "bold")
GRTS_sf
GRTS_sf <- st_as_sf(GRTS_df, coords = c("Longitude", "Latitude"), crs = 4326)
GRTS_sf <- st_transform(GRTS_sf, st_crs(couv2012))
couv2012 <- couv2012 %>%
mutate(libelle_code = str_wrap(paste0(libelle_fr, " (", CODE_12, ")")))
couv2012
GRTS_sf <- GRTS_sf %>%
left_join(select(GRTS_df, siteID, TypeSol = `Type de sol (code CLC)`), by = "siteID")
GRTS_sf <- GRTS_sf %>% mutate(siteID = str_remove(siteID, "site_"))
ggplot() +
geom_sf(data = couvcarte, fill = "grey95", color = NA) +
geom_sf(data = couv2012, aes(fill = libelle_code), color = "grey40", linewidth = 0.05) +
geom_sf(data = GRTS_sf,
aes(text = paste0("Site : ", siteID, "<br>Type de sol : ", TypeSol)),
color = "white", size = 3, shape = 21, fill = "black") +
geom_shadowtext(
data = GRTS_sf,
aes(geometry = geometry, label = siteID),
stat = "sf_coordinates",
nudge_x = 2000,
nudge_y = 0,
size = 2.3,
color = "black",
bg.color = "white",
bg.r = 0.15
) +
theme_minimal() +
scale_fill_manual(
values = couleurs_CLC_code,
name = "Type de sol (Code CLC ≥ 500 ha, hors mers et océans)",) +
annotation_scale(location = "br", width_hint = 0.3) +
annotation_north_arrow(
location = "tl",
which_north = "true",
pad_x = unit(0.2, "cm"),
pad_y = unit(0.2, "cm"),
style = north_arrow_fancy_orienteering) +
labs(
title = "Carte de la couverture des sols en Guadeloupe avec points d’échantillonnage GRTS",
subtitle = "Données Corine Land Cover 2012 et sites tiré du GRTS",
caption = "Source : data.gouv.fr") +
theme(
legend.position = "right",
legend.key.size = unit(0.6, "cm"),
legend.text = element_text(size = 7),
legend.title = element_text(size = 9, face = "bold"),
plot.title = element_text(face = "bold", size = 14),
plot.subtitle = element_text(size = 10))
ggplot() +
geom_sf(data = couvcarte, fill = "grey95", color = NA) +
geom_sf(data = couv2012, aes(fill = libelle_code), color = "grey40", linewidth = 0.05) +
geom_sf(data = GRTS_sf,
aes(text = paste0("Site : ", siteID, "<br>Type de sol : ", TypeSol)),
color = "white", size = 3, shape = 21, fill = "black") +
theme_minimal() +
scale_fill_manual(
values = couleurs_CLC_code,
name = "Type de sol (Code CLC ≥ 500 ha, hors mers et océans)",) +
annotation_scale(location = "br", width_hint = 0.3) +
annotation_north_arrow(
location = "tl",
which_north = "true",
pad_x = unit(0.2, "cm"),
pad_y = unit(0.2, "cm"),
style = north_arrow_fancy_orienteering) +
labs(
title = "Carte de la couverture des sols en Guadeloupe avec points d’échantillonnage GRTS",
subtitle = "Données Corine Land Cover 2012 et sites tiré du GRTS",
caption = "Source : data.gouv.fr") +
theme(
legend.position = "right",
legend.key.size = unit(0.6, "cm"),
legend.text = element_text(size = 7),
legend.title = element_text(size = 9, face = "bold"),
plot.title = element_text(face = "bold", size = 14),
plot.subtitle = element_text(size = 10))
GRTS_sf <- st_as_sf(GRTS_df, coords = c("Longitude", "Latitude"), crs = 4326)
GRTS_sf <- st_transform(GRTS_sf, st_crs(couv2012))
couv2012 <- couv2012 %>%
mutate(libelle_code = str_wrap(paste0(libelle_fr, " (", CODE_12, ")")))
couv2012
GRTS_sf
n_distinct(GRTS_sf$TypeSol)
GRTS_sf <- st_as_sf(GRTS_df, coords = c("Longitude", "Latitude"), crs = 4326)
GRTS_sf <- st_transform(GRTS_sf, st_crs(couv2012))
GRTS_sf
n_distinct(GRTS_sf$`Type de sol (code CLC)`)
ggplot() +
geom_sf(data = couvcarte, fill = "grey95", color = NA) +
geom_sf(data = couv2012, aes(fill = libelle_code), color = "grey40", linewidth = 0.05) +
geom_sf(data = GRTS_sf,
aes(text = paste0("Site : ", siteID, "<br>Type de sol : ", TypeSol)),
color = "white", size = 3, shape = 21, fill = "black") +
geom_shadowtext(
data = GRTS_sf,
aes(geometry = geometry, label = siteID),
stat = "sf_coordinates",
nudge_x = 2000,
nudge_y = 0,
size = 2.3,
color = "black",
bg.color = "white",
bg.r = 0.15
) +
theme_minimal() +
scale_fill_manual(
values = couleurs_CLC_code,
name = "Type de sol (Code CLC ≥ 500 ha, hors mers et océans)",) +
annotation_scale(location = "br", width_hint = 0.3) +
annotation_north_arrow(
location = "tl",
which_north = "true",
pad_x = unit(0.2, "cm"),
pad_y = unit(0.2, "cm"),
style = north_arrow_fancy_orienteering) +
labs(
title = "Carte de la couverture des sols en Guadeloupe avec points d’échantillonnage GRTS",
subtitle = "Données Corine Land Cover 2012 et sites tiré du GRTS",
caption = "Source : data.gouv.fr") +
theme(
legend.position = "right",
legend.key.size = unit(0.6, "cm"),
legend.text = element_text(size = 7),
legend.title = element_text(size = 9, face = "bold"),
plot.title = element_text(face = "bold", size = 14),
plot.subtitle = element_text(size = 10))
ggplot() +
geom_sf(data = couvcarte, fill = "grey95", color = NA) +
geom_sf(data = couv2012, aes(fill = libelle_code), color = "grey40", linewidth = 0.05) +
geom_sf(data = GRTS_sf,
aes(text = paste0("Site : ", siteID, "<br>Type de sol : ", `Type de sol (code CLC)`)),
color = "white", size = 3, shape = 21, fill = "black") +
geom_shadowtext(
data = GRTS_sf,
aes(geometry = geometry, label = siteID),
stat = "sf_coordinates",
nudge_x = 2000,
nudge_y = 0,
size = 2.3,
color = "black",
bg.color = "white",
bg.r = 0.15
) +
theme_minimal() +
scale_fill_manual(
values = couleurs_CLC_code,
name = "Type de sol (Code CLC ≥ 500 ha, hors mers et océans)",) +
annotation_scale(location = "br", width_hint = 0.3) +
annotation_north_arrow(
location = "tl",
which_north = "true",
pad_x = unit(0.2, "cm"),
pad_y = unit(0.2, "cm"),
style = north_arrow_fancy_orienteering) +
labs(
title = "Carte de la couverture des sols en Guadeloupe avec points d’échantillonnage GRTS",
subtitle = "Données Corine Land Cover 2012 et sites tiré du GRTS",
caption = "Source : data.gouv.fr") +
theme(
legend.position = "right",
legend.key.size = unit(0.6, "cm"),
legend.text = element_text(size = 7),
legend.title = element_text(size = 9, face = "bold"),
plot.title = element_text(face = "bold", size = 14),
plot.subtitle = element_text(size = 10))
GRTS_sf <- st_as_sf(GRTS_df, coords = c("Longitude", "Latitude"))
GRTS_sf <- st_transform(GRTS_sf, st_crs(couv2012))
GRTS_sf <- st_transform(GRTS_sf, st_crs(couv2012))
GRTS_sf <- st_as_sf(GRTS_df, coords = c("Longitude", "Latitude"))
GRTS_sf <- st_transform(GRTS_sf, st_crs(couv2012))
sum(is.na(st_coordinates(GRTS_sf)))
GRTS_sf <- st_as_sf(GRTS_df, coords = c("Longitude", "Latitude"), crs = 4326)
GRTS_sf <- st_transform(GRTS_sf, st_crs(couv2012))
couv2012 <- couv2012 %>%
mutate(libelle_code = str_wrap(paste0(libelle_fr, " (", CODE_12, ")")))
couv2012
GRTS_sf
n_distinct(GRTS_sf$`Type de sol (code CLC)`)
GRTS_sf <- GRTS_sf %>% mutate(siteID = str_remove(siteID, "site_"))
GRTS_sf
GRTS_sf <- GRTS_sf %>% mutate(siteID = str_remove(siteID, "site_"))
GRTS_sf
couleurs_CLC_code
setdiff(unique(couv2012$libelle_code), names(couleurs_CLC_code))
couv2012 <- couv2012 %>%
mutate(libelle_code = str_replace_all(libelle_code, "\n", " "))
ggplot() +
geom_sf(data = couvcarte, fill = "grey95", color = NA) +
geom_sf(data = couv2012, aes(fill = libelle_code), color = "grey40", linewidth = 0.05) +
geom_sf(data = GRTS_sf,
aes(text = paste0("Site : ", siteID, "<br>Type de sol : ", `Type de sol (code CLC)`)),
color = "white", size = 3, shape = 21, fill = "black") +
geom_shadowtext(
data = GRTS_sf,
aes(geometry = geometry, label = siteID),
stat = "sf_coordinates",
nudge_x = 2000,
nudge_y = 0,
size = 2.3,
color = "black",
bg.color = "white",
bg.r = 0.15
) +
theme_minimal() +
scale_fill_manual(
values = couleurs_CLC_code,
name = "Type de sol (Code CLC ≥ 500 ha, hors mers et océans)",) +
annotation_scale(location = "br", width_hint = 0.3) +
annotation_north_arrow(
location = "tl",
which_north = "true",
pad_x = unit(0.2, "cm"),
pad_y = unit(0.2, "cm"),
style = north_arrow_fancy_orienteering) +
labs(
title = "Carte de la couverture des sols en Guadeloupe avec points d’échantillonnage GRTS",
subtitle = "Données Corine Land Cover 2012 et sites tiré du GRTS",
caption = "Source : data.gouv.fr") +
theme(
legend.position = "right",
legend.key.size = unit(0.6, "cm"),
legend.text = element_text(size = 7),
legend.title = element_text(size = 9, face = "bold"),
plot.title = element_text(face = "bold", size = 14),
plot.subtitle = element_text(size = 10))
ggplot() +
geom_sf(data = couvcarte, fill = "grey95", color = NA) +
geom_sf(data = couv2012, aes(fill = libelle_code), color = "grey40", linewidth = 0.05) +
geom_sf(data = GRTS_sf,
aes(text = paste0("Site : ", siteID, "<br>Type de sol : ", `Type de sol (code CLC)`)),
color = "white", size = 3, shape = 21, fill = "black") +
geom_shadowtext(
data = GRTS_sf,
aes(geometry = geometry, label = siteID),
stat = "sf_coordinates",
nudge_x = 2000,
nudge_y = 0,
size = 2.3,
color = "black",
bg.color = "white",
bg.r = 0.15
) +
theme_minimal() +
scale_fill_manual(
values = couleurs_CLC_code,
name = "Type de sol (Code CLC ≥ 500 ha, hors mers et océans)",) +
annotation_scale(location = "br", width_hint = 0.3) +
annotation_north_arrow(
location = "tl",
which_north = "true",
pad_x = unit(0.2, "cm"),
pad_y = unit(0.2, "cm"),
style = north_arrow_fancy_orienteering) +
labs(
title = "Carte de la couverture des sols en Guadeloupe avec points d’échantillonnage GRTS",
subtitle = "Données Corine Land Cover 2012 et sites tiré du GRTS",
caption = "Source : data.gouv.fr") +
theme(
legend.position = "right",
legend.key.size = unit(0.6, "cm"),
legend.text = element_text(size = 7),
legend.title = element_text(size = 9, face = "bold"),
plot.title = element_text(face = "bold", size = 14),
plot.subtitle = element_text(size = 10))
ggplot() +
geom_sf(data = couvcarte, fill = "grey95", color = NA) +
geom_sf(data = couv2012, aes(fill = libelle_code), color = "grey40", linewidth = 0.05) +
geom_sf(data = GRTS_sf,
aes(text = paste0("Site : ", siteID, "<br>Type de sol : ", `Type de sol (code CLC)`)),
color = "white", size = 3, shape = 21, fill = "black") +
geom_shadowtext(
data = GRTS_sf,
aes(geometry = geometry, label = siteID),
stat = "sf_coordinates",
nudge_x = 2000,
nudge_y = 0,
size = 2.3,
color = "black",
bg.color = "white",
bg.r = 0.15
) +
theme_minimal() +
scale_fill_manual(
values = couleurs_CLC_code,
name = "Type de sol (Code CLC ≥ 500 ha, hors mers et océans)",) +
annotation_scale(location = "br", width_hint = 0.3) +
annotation_north_arrow(
location = "tl",
which_north = "true",
pad_x = unit(0.2, "cm"),
pad_y = unit(0.2, "cm"),
style = north_arrow_fancy_orienteering) +
labs(
title = "Carte de la couverture des sols en Guadeloupe avec points d’échantillonnage GRTS",
subtitle = "Données Corine Land Cover 2012 et sites tiré du GRTS",
caption = "Source : data.gouv.fr",
xlab = "",
ylab = "") +
theme(
legend.position = "right",
legend.key.size = unit(0.6, "cm"),
legend.text = element_text(size = 7),
legend.title = element_text(size = 9, face = "bold"),
plot.title = element_text(face = "bold", size = 14),
plot.subtitle = element_text(size = 10))
ggplot() +
geom_sf(data = couvcarte, fill = "grey95", color = NA) +
geom_sf(data = couv2012, aes(fill = libelle_code), color = "grey40", linewidth = 0.05) +
geom_sf(data = GRTS_sf,
aes(text = paste0("Site : ", siteID, "<br>Type de sol : ", `Type de sol (code CLC)`)),
color = "white", size = 3, shape = 21, fill = "black") +
geom_shadowtext(
data = GRTS_sf,
aes(geometry = geometry, label = siteID),
stat = "sf_coordinates",
nudge_x = 2000,
nudge_y = 0,
size = 2.3,
color = "black",
bg.color = "white",
bg.r = 0.15
) +
theme_minimal() +
scale_fill_manual(
values = couleurs_CLC_code,
name = "Type de sol (Code CLC ≥ 500 ha, hors mers et océans)",) +
annotation_scale(location = "br", width_hint = 0.3) +
annotation_north_arrow(
location = "tl",
which_north = "true",
pad_x = unit(0.2, "cm"),
pad_y = unit(0.2, "cm"),
style = north_arrow_fancy_orienteering) +
labs(
title = "Carte de la couverture des sols en Guadeloupe avec points d’échantillonnage GRTS",
subtitle = "Données Corine Land Cover 2012 et sites tiré du GRTS",
caption = "Source : data.gouv.fr") +
theme(
legend.position = "right",
legend.key.size = unit(0.6, "cm"),
legend.text = element_text(size = 7),
legend.title = element_text(size = 9, face = "bold"),
plot.title = element_text(face = "bold", size = 14),
plot.subtitle = element_text(size = 10),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank())
ggplot() +
geom_sf(data = couvcarte, fill = "grey95", color = NA) +
geom_sf(data = couv2012, aes(fill = libelle_code), color = "grey40", linewidth = 0.05) +
geom_sf(data = GRTS_sf,
aes(text = paste0("Site : ", siteID, "<br>Type de sol : ", `Type de sol (code CLC)`)),
color = "white", size = 3, shape = 21, fill = "black") +
geom_shadowtext(
data = GRTS_sf,
aes(geometry = geometry, label = siteID),
stat = "sf_coordinates",
nudge_x = 2000,
nudge_y = 0,
size = 2.3,
color = "black",
bg.color = "white",
bg.r = 0.15
) +
theme_minimal() +
scale_fill_manual(
values = couleurs_CLC_code,
name = "Type de sol (Code CLC ≥ 500 ha, hors mers et océans)",) +
annotation_scale(location = "br", width_hint = 0.3) +
annotation_north_arrow(
location = "tl",
which_north = "true",
pad_x = unit(0.2, "cm"),
pad_y = unit(0.2, "cm"),
style = north_arrow_fancy_orienteering) +
labs(
title = "Carte de la couverture des sols en Guadeloupe avec points d’échantillonnage GRTS",
subtitle = "Données Corine Land Cover 2012 et sites tiré du GRTS",
caption = "Source : data.gouv.fr") +
theme(
legend.position = "right",
legend.key.size = unit(0.6, "cm"),
legend.text = element_text(size = 7),
legend.title = element_text(size = 9, face = "bold"),
plot.title = element_text(face = "bold", size = 14),
plot.subtitle = element_text(size = 10),
axis.title = element_blank(),
axis.text = element_blank())
ggplot() +
geom_sf(data = couvcarte, fill = "grey95", color = NA) +
geom_sf(data = couv2012, aes(fill = libelle_code), color = "grey40", linewidth = 0.05) +
geom_sf(data = GRTS_sf,
aes(text = paste0("Site : ", siteID, "<br>Type de sol : ", `Type de sol (code CLC)`)),
color = "white", size = 3, shape = 21, fill = "black") +
geom_shadowtext(
data = GRTS_sf,
aes(geometry = geometry, label = siteID),
stat = "sf_coordinates",
nudge_x = 2000,
nudge_y = 0,
size = 2.3,
color = "black",
bg.color = "white",
bg.r = 0.15
) +
theme_minimal() +
scale_fill_manual(
values = couleurs_CLC_code,
name = "Type de sol (Code CLC ≥ 500 ha, hors mers et océans)",) +
annotation_scale(location = "br", width_hint = 0.3) +
annotation_north_arrow(
location = "tl",
which_north = "true",
pad_x = unit(0.2, "cm"),
pad_y = unit(0.2, "cm"),
style = north_arrow_fancy_orienteering) +
labs(
title = "Carte de la couverture des sols en Guadeloupe avec points d’échantillonnage GRTS",
subtitle = "Données Corine Land Cover 2012 et sites tiré du GRTS",
caption = "Source : data.gouv.fr") +
theme(
legend.position = "right",
legend.key.size = unit(0.6, "cm"),
legend.text = element_text(size = 7),
legend.title = element_text(size = 9, face = "bold"),
plot.title = element_text(face = "bold", size = 14),
plot.subtitle = element_text(size = 10),
axis.title = element_blank())
